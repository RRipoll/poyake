/**
 * generated by Xtext 2.20.0
 */
package com.jsantos.metadata.plugin.formatting2;

import com.jsantos.metadata.plugin.metaDsl.Attribute;
import com.jsantos.metadata.plugin.metaDsl.ColumnStereotype;
import com.jsantos.metadata.plugin.metaDsl.Configuration;
import com.jsantos.metadata.plugin.metaDsl.DataType;
import com.jsantos.metadata.plugin.metaDsl.Entity;
import com.jsantos.metadata.plugin.metaDsl.Language;
import com.jsantos.metadata.plugin.metaDsl.Model;
import com.jsantos.metadata.plugin.metaDsl.Sequence;
import com.jsantos.metadata.plugin.metaDsl.TableStereotype;
import java.util.Arrays;
import java.util.function.Consumer;
import org.eclipse.emf.common.util.EList;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.xtext.formatting2.AbstractFormatter2;
import org.eclipse.xtext.formatting2.IFormattableDocument;
import org.eclipse.xtext.formatting2.IHiddenRegionFormatter;
import org.eclipse.xtext.formatting2.regionaccess.ISemanticRegion;
import org.eclipse.xtext.resource.XtextResource;
import org.eclipse.xtext.xbase.lib.Extension;
import org.eclipse.xtext.xbase.lib.Procedures.Procedure1;

@SuppressWarnings("all")
public class MetaDslFormatter extends AbstractFormatter2 {
  protected void _format(final Model model, @Extension final IFormattableDocument document) {
    EList<Entity> _entities = model.getEntities();
    for (final Entity entity : _entities) {
      document.<Entity>format(entity);
    }
    EList<Sequence> _sequences = model.getSequences();
    for (final Sequence sequence : _sequences) {
      document.<Sequence>format(sequence);
    }
    document.<Configuration>format(model.getConfiguration());
  }
  
  protected void _format(final Configuration configuration, @Extension final IFormattableDocument document) {
    EList<Language> _languages = configuration.getLanguages();
    for (final Language language : _languages) {
      document.<Language>format(language);
    }
    EList<DataType> _dataTypes = configuration.getDataTypes();
    for (final DataType dataType : _dataTypes) {
      document.<DataType>format(dataType);
    }
    EList<TableStereotype> _tableStereotypes = configuration.getTableStereotypes();
    for (final TableStereotype tableStereotype : _tableStereotypes) {
      document.<TableStereotype>format(tableStereotype);
    }
    EList<ColumnStereotype> _columnStereotypes = configuration.getColumnStereotypes();
    for (final ColumnStereotype columnStereotype : _columnStereotypes) {
      document.<ColumnStereotype>format(columnStereotype);
    }
  }
  
  protected void _format(final Entity entity, @Extension final IFormattableDocument document) {
    final Consumer<Attribute> _function = (Attribute it) -> {
      document.<Attribute>format(it);
    };
    entity.getAttributes().forEach(_function);
    final Procedure1<IHiddenRegionFormatter> _function_1 = (IHiddenRegionFormatter it) -> {
      it.indent();
    };
    document.<ISemanticRegion, ISemanticRegion>interior(
      this.textRegionExtensions.regionFor(entity).keyword("{"), 
      this.textRegionExtensions.regionFor(entity).keyword("}"), _function_1);
  }
  
  protected void _format(final Attribute attribute, @Extension final IFormattableDocument document) {
    final Procedure1<IHiddenRegionFormatter> _function = (IHiddenRegionFormatter it) -> {
      it.noAutowrap();
    };
    final Procedure1<IHiddenRegionFormatter> _function_1 = (IHiddenRegionFormatter it) -> {
      it.setNewLines(1, 1, 2);
    };
    document.<Attribute>append(document.<Attribute>prepend(attribute, _function), _function_1);
  }
  
  public void format(final Object attribute, final IFormattableDocument document) {
    if (attribute instanceof XtextResource) {
      _format((XtextResource)attribute, document);
      return;
    } else if (attribute instanceof Attribute) {
      _format((Attribute)attribute, document);
      return;
    } else if (attribute instanceof Configuration) {
      _format((Configuration)attribute, document);
      return;
    } else if (attribute instanceof Entity) {
      _format((Entity)attribute, document);
      return;
    } else if (attribute instanceof Model) {
      _format((Model)attribute, document);
      return;
    } else if (attribute instanceof EObject) {
      _format((EObject)attribute, document);
      return;
    } else if (attribute == null) {
      _format((Void)null, document);
      return;
    } else if (attribute != null) {
      _format(attribute, document);
      return;
    } else {
      throw new IllegalArgumentException("Unhandled parameter types: " +
        Arrays.<Object>asList(attribute, document).toString());
    }
  }
}
